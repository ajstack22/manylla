# Atlas Test Evidence Template v2.0
# This YAML template provides a standardized format for capturing test evidence

evidence_metadata:
  id: "EVD-{YYYYMMDD}-{HHmm}-test-{sequence}"
  type: "test"
  version: "2.0"
  phase: "review"  # Can be implementation or review
  story_id: ""  # e.g., "S001"
  sprint_id: ""  # e.g., "SP-2024-10"
  created_at: ""  # ISO 8601 format
  created_by: ""  # automated|tester_name
  tools_used: []  # e.g., ["pytest", "selenium", "jmeter"]
  environment: ""  # dev|staging|production|synthetic
  validation_status: "pending"  # pending|validated|rejected
  retention_policy: "6months"

test_execution:
  test_run_id: ""  # e.g., "TR-20241115-1045-regression"
  test_suite: ""  # regression|smoke|integration|performance|security|acceptance
  test_strategy: ""  # Path to test strategy document
  test_plan: ""  # Path to test plan document
  execution_trigger: ""  # automated|manual|scheduled|ci_cd
  executor: ""  # automation|tester_name
  execution_start: ""  # ISO 8601 format
  execution_end: ""  # ISO 8601 format
  total_duration: ""  # HH:MM:SS

test_environment:
  environment_name: ""  # e.g., "staging", "test-env-01"
  environment_url: ""  # Base URL for web applications
  database_version: ""
  application_version: ""
  browser_versions: []  # For web testing
  mobile_devices: []  # For mobile testing
  test_data_version: ""

  configuration:
    parallel_execution: false
    max_concurrent_tests: 0
    timeout_settings: ""
    retry_configuration: ""

test_planning:
  total_test_cases: 0
  test_cases_executed: 0
  test_cases_passed: 0
  test_cases_failed: 0
  test_cases_skipped: 0
  test_cases_blocked: 0

  skip_reasons:
    - reason: ""  # e.g., "environment_unavailable"
      count: 0
      impact: ""  # low|medium|high

  block_reasons:
    - reason: ""  # e.g., "defect_blocking_execution"
      count: 0
      blocking_defect: ""

  test_coverage:
    requirements_covered: 0
    requirements_total: 0
    coverage_percentage: 0.0

functional_testing:
  acceptance_criteria:
    - criteria_id: ""  # e.g., "AC001"
      description: ""
      priority: ""  # high|medium|low
      status: ""  # passed|failed|skipped|blocked
      test_cases: []  # List of test case IDs
      evidence_files: []
      notes: ""

  user_stories:
    - story_id: ""
      story_title: ""
      acceptance_criteria_count: 0
      acceptance_criteria_passed: 0
      overall_status: ""  # passed|failed|partial
      defects_found: 0

  regression_tests:
    total_executed: 0
    passed: 0
    failed: 0
    duration: ""  # HH:MM:SS
    automation_rate: 0.0  # Percentage

    failed_tests:
      - test_id: ""
        test_name: ""
        failure_reason: ""
        stack_trace: ""
        screenshot: ""  # Path to screenshot
        log_file: ""

  smoke_tests:
    total_executed: 0
    passed: 0
    failed: 0
    duration: ""  # HH:MM:SS

    critical_path_tests:
      - path_name: ""  # e.g., "user_login_flow"
        status: ""  # passed|failed
        duration: ""
        steps_executed: 0
        evidence: ""

  integration_tests:
    api_tests:
      total_endpoints: 0
      endpoints_tested: 0
      passed: 0
      failed: 0
      response_time_avg: ""  # e.g., "150ms"

    database_tests:
      connection_tests: 0
      crud_operations: 0
      data_integrity_checks: 0
      performance_tests: 0

    external_service_tests:
      - service_name: ""
        endpoint: ""
        status: ""  # passed|failed|unavailable
        response_time: ""
        error_message: ""

performance_testing:
  load_tests:
    test_duration: ""  # HH:MM:SS
    concurrent_users: 0
    ramp_up_time: ""
    ramp_down_time: ""

    response_times:
      average: ""  # e.g., "145ms"
      median: ""
      p90: ""  # 90th percentile
      p95: ""  # 95th percentile
      p99: ""  # 99th percentile
      min: ""
      max: ""

    throughput:
      requests_per_second: 0.0
      transactions_per_minute: 0.0
      successful_requests: 0.0  # Percentage
      failed_requests: 0.0  # Percentage

    resource_utilization:
      cpu_average: 0.0  # Percentage
      cpu_peak: 0.0
      memory_average: 0.0
      memory_peak: 0.0
      disk_io: ""  # normal|high|critical
      network_io: ""

  stress_tests:
    max_users_target: 0
    max_users_achieved: 0
    breaking_point: 0
    recovery_time: ""  # Time to recover after stress
    degradation_point: 0  # Users when performance degrades

  endurance_tests:
    duration: ""  # e.g., "02:00:00"
    memory_leaks_detected: false
    performance_degradation: 0.0  # Percentage
    stability_issues: []

  volume_tests:
    data_volume: ""  # e.g., "1M records"
    processing_time: ""
    storage_impact: ""
    query_performance: ""

security_testing:
  vulnerability_scan:
    scan_tool: ""  # e.g., "OWASP ZAP", "Burp Suite"
    scan_duration: ""
    urls_scanned: 0

    vulnerabilities:
      critical: 0
      high: 0
      medium: 0
      low: 0
      informational: 0

    vulnerability_details:
      - id: ""
        severity: ""  # critical|high|medium|low|info
        category: ""  # e.g., "injection", "xss", "csrf"
        cwe: ""  # e.g., "CWE-79"
        description: ""
        url: ""
        parameter: ""
        payload: ""
        evidence: ""
        remediation: ""

  authentication_testing:
    login_mechanisms: []  # e.g., ["username_password", "oauth", "saml"]
    brute_force_protection: ""  # verified|failed|not_tested
    session_management: ""  # secure|insecure|not_tested
    password_policy: ""  # compliant|non_compliant|not_tested
    account_lockout: ""  # implemented|missing|not_tested

    test_results:
      - test_type: ""  # e.g., "brute_force_protection"
        status: ""  # passed|failed|not_applicable
        details: ""
        evidence: ""

  authorization_testing:
    access_control_model: ""  # rbac|abac|dac|mac
    privilege_escalation: ""  # none_found|vulnerabilities_found
    forced_browsing: ""  # protected|vulnerable
    direct_object_references: ""  # secure|insecure

    role_tests:
      - role: ""  # e.g., "admin", "user", "guest"
        permissions_tested: 0
        permissions_passed: 0
        violations_found: 0

  input_validation:
    sql_injection: ""  # protected|vulnerable|not_tested
    xss_protection: ""  # verified|vulnerable|not_tested
    csrf_protection: ""  # implemented|missing|not_tested
    file_upload_security: ""  # secure|vulnerable|not_tested
    input_sanitization: ""  # implemented|missing|not_tested

  owasp_testing:
    a01_broken_access_control: ""  # passed|failed|not_tested
    a02_cryptographic_failures: ""
    a03_injection: ""
    a04_insecure_design: ""
    a05_security_misconfiguration: ""
    a06_vulnerable_components: ""
    a07_identification_failures: ""
    a08_software_integrity: ""
    a09_logging_failures: ""
    a10_ssrf: ""

user_acceptance_testing:
  participants: 0
  test_scenarios: 0
  scenarios_passed: 0
  scenarios_failed: 0
  user_satisfaction: 0.0  # Average rating 1-5
  usability_score: 0.0  # Percentage

  feedback_summary:
    positive_feedback: 0
    negative_feedback: 0
    improvement_suggestions: 0

  detailed_feedback:
    - participant_id: ""
      role: ""  # end_user|business_analyst|stakeholder
      scenario: ""
      rating: 0.0  # 1-5 scale
      completion_time: ""
      difficulty_level: ""  # easy|medium|hard
      comments: ""
      suggestions: ""

  task_analysis:
    - task: ""
      success_rate: 0.0  # Percentage
      average_completion_time: ""
      error_rate: 0.0
      satisfaction_score: 0.0

accessibility_testing:
  wcag_version: ""  # e.g., "2.1"
  compliance_level: ""  # A|AA|AAA

  compliance_results:
    level_a: 0.0  # Percentage compliance
    level_aa: 0.0
    level_aaa: 0.0

  assistive_technology:
    screen_reader_compatible: false
    keyboard_navigation: false
    voice_control_compatible: false

  accessibility_issues:
    - issue_type: ""  # e.g., "color_contrast", "missing_alt_text"
      severity: ""  # critical|high|medium|low
      wcag_criterion: ""  # e.g., "1.4.3"
      description: ""
      location: ""
      remediation: ""

browser_compatibility:
  tested_browsers:
    - browser: ""  # e.g., "Chrome"
      version: ""  # e.g., "119.0"
      platform: ""  # Windows|MacOS|Linux
      status: ""  # passed|failed|partial
      issues_found: 0

  mobile_compatibility:
    - device: ""  # e.g., "iPhone 14"
      os_version: ""  # e.g., "iOS 17"
      browser: ""  # e.g., "Safari Mobile"
      status: ""
      issues_found: 0

  responsive_design:
    breakpoints_tested: []  # e.g., ["320px", "768px", "1024px"]
    layouts_verified: []  # e.g., ["mobile", "tablet", "desktop"]
    issues_found: 0

defects_identified:
  total_defects: 0
  critical_defects: 0
  high_defects: 0
  medium_defects: 0
  low_defects: 0

  defect_details:
    - defect_id: ""
      severity: ""  # critical|high|medium|low
      priority: ""  # urgent|high|medium|low
      status: ""  # open|in_progress|resolved|closed|deferred
      title: ""
      description: ""
      steps_to_reproduce: ""
      expected_result: ""
      actual_result: ""
      environment: ""
      assigned_to: ""
      found_by: ""
      found_date: ""
      screenshot: ""
      log_file: ""
      workaround: ""

  defect_metrics:
    defect_density: 0.0  # Defects per thousand lines of code
    defect_removal_efficiency: 0.0  # Percentage
    defect_leakage: 0.0  # Defects found in next phase

test_data:
  data_sets_used: []  # e.g., ["user_accounts_test", "product_catalog_test"]
  data_generation_method: ""  # manual|automated|synthetic|production_subset
  data_privacy_compliance: ""  # verified|not_applicable|violated
  data_cleanup_completed: false

  data_quality:
    completeness: 0.0  # Percentage
    accuracy: 0.0
    consistency: 0.0
    timeliness: 0.0

  sensitive_data_handling:
    pii_anonymized: false
    data_masking_applied: false
    retention_policy_followed: false

automation_metrics:
  total_test_cases: 0
  automated_test_cases: 0
  automation_percentage: 0.0
  manual_test_cases: 0

  automation_effectiveness:
    execution_time_saved: ""  # e.g., "2h 30m"
    defects_found_by_automation: 0
    false_positive_rate: 0.0  # Percentage
    maintenance_effort: ""  # hours per sprint

test_tools:
  - tool_name: ""  # e.g., "Selenium WebDriver"
    version: ""
    purpose: ""  # e.g., "UI automation", "API testing"
    configuration: ""
    license_type: ""  # open_source|commercial|enterprise

evidence_files:
  - name: "test-execution-report.html"
    path: ""
    size: ""
    checksum: ""
    description: "Comprehensive test execution report"

  - name: "performance-test-results.jtl"
    path: ""
    size: ""
    checksum: ""
    description: "JMeter performance test raw results"

  - name: "security-scan-report.pdf"
    path: ""
    size: ""
    checksum: ""
    description: "Security vulnerability assessment report"

  - name: "accessibility-audit-report.pdf"
    path: ""
    size: ""
    checksum: ""
    description: "WCAG compliance audit results"

  - name: "browser-compatibility-screenshots/"
    path: ""
    size: ""
    checksum: ""
    description: "Screenshots from cross-browser testing"

  - name: "test-automation-logs/"
    path: ""
    size: ""
    checksum: ""
    description: "Automated test execution logs"

validation_rules:
  critical:
    - functional_test_failures == 0  # For critical user paths
    - security_critical_vulnerabilities == 0
    - accessibility_level_a_compliance == 100

  blocking:
    - acceptance_criteria_pass_rate >= 95
    - performance_regression < 10  # Percentage
    - browser_compatibility_critical == "passed"
    - load_test_error_rate < 1

  warning:
    - test_coverage >= 80
    - user_satisfaction >= 4.0
    - defect_density < 2.0  # Per thousand lines of code
    - automation_percentage >= 70

quality_gates:
  functional_requirements:
    acceptance_criteria_compliance: 95.0  # Minimum percentage
    regression_test_pass_rate: 100.0
    critical_path_success: 100.0

  performance_requirements:
    response_time_95th_percentile: "500ms"  # Maximum allowed
    throughput_minimum: "100 req/sec"
    error_rate_maximum: 1.0  # Percentage

  security_requirements:
    critical_vulnerabilities: 0
    high_vulnerabilities: 0
    owasp_top10_compliance: 100.0  # Percentage

  usability_requirements:
    user_satisfaction_minimum: 4.0  # Out of 5
    task_completion_rate: 95.0  # Percentage
    accessibility_aa_compliance: 90.0  # Percentage

# Usage Instructions:
# 1. Fill in all relevant sections based on your test execution
# 2. Remove sections that don't apply to your specific test type
# 3. Ensure all evidence files are accessible and properly archived
# 4. Update validation rules based on your quality standards
# 5. Include detailed defect information for proper tracking